# DevOps and CI/CD Tool Stack
## Software Development Infrastructure Guide

### 1. Source Code Management

**GitLab Enterprise Edition**
- Self-hosted on internal servers
- Groups organized by product line
- Protected branches: main, develop, release/*
- Merge request approval rules: 2 reviewers minimum
- Code owners file for automatic reviewer assignment

### 2. Continuous Integration

**GitLab CI/CD Pipelines**

Pipeline stages:
1. build - Compile source code
2. test - Run unit tests
3. analyze - Static analysis, security scan
4. package - Create deployable artifacts
5. deploy - Push to staging/production

Runners: 10 shared Linux runners, 2 Windows runners

**Build Tools:**
- CMake for C++ projects
- Maven for Java services
- npm/yarn for frontend
- Docker for containerization

### 3. Code Quality Tools

**SonarQube**
- Quality gates enforced on all projects
- Coverage threshold: 80% minimum
- Duplications < 3%
- Maintainability rating: A required

**Checkmarx**
- SAST (Static Application Security Testing)
- Runs on every merge request
- Critical/High findings block merge

**Snyk**
- Dependency vulnerability scanning
- License compliance checking
- Auto-fix PRs for known vulnerabilities

### 4. Artifact Management

**JFrog Artifactory**
- Maven repository for Java
- npm registry for JavaScript
- Docker registry for container images
- Conan for C++ packages
- Retention policies: 90 days for snapshots

### 5. Container Platform

**Kubernetes (Rancher managed)**
- 3 clusters: dev, staging, production
- Helm charts for deployments
- Horizontal pod autoscaling enabled
- Prometheus/Grafana for monitoring

**Docker**
- Base images maintained centrally
- Multi-stage builds for optimization
- Image scanning with Trivy

### 6. Infrastructure as Code

**Terraform**
- AWS infrastructure provisioning
- State stored in S3 with locking
- Modules for common patterns
- PR-based change workflow

**Ansible**
- Configuration management
- Playbooks for server setup
- Vault for secrets management

### 7. Monitoring and Observability

**Prometheus + Grafana**
- Metrics collection and dashboards
- Alerting rules for SLOs
- Custom dashboards per team

**ELK Stack (Elasticsearch, Logstash, Kibana)**
- Centralized log aggregation
- Log retention: 30 days
- Saved searches for common issues

**Jaeger**
- Distributed tracing
- Service dependency mapping

### 8. Secret Management

**HashiCorp Vault**
- Dynamic secrets for databases
- PKI certificate issuance
- AppRole authentication for apps
- Audit logging enabled

### 9. Collaboration Tools

**Slack**
- Integration with GitLab for notifications
- PagerDuty integration for incidents
- Workflow automations

**Confluence**
- Architecture decision records (ADRs)
- Runbooks for operations
- API documentation

**Jira**
- Sprint planning and tracking
- Linked to GitLab commits
- Custom workflows per project type
